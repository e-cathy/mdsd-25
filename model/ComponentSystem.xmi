<?xml version="1.0" encoding="UTF-8"?>
<MDSDComponentMetamodel:ComponentSystem
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:MDSDComponentMetamodel="http://www.example.org/MDSDComponentMetamodel"
    xsi:schemaLocation="http://www.example.org/MDSDComponentMetamodel MDSDComponentMetamodel.ecore">
  <repository>
    <components
        name="component"
        providedInterfaces="//@repository.0/@interfaces.0"
        requiredInterfaces="//@repository.0/@interfaces.1"/>
    <interfaces
        name="provide"/>
    <interfaces
        name="require"/>
  </repository>
  <system interfaces="//@repository.0/@interfaces.0">
    <assembly>
      <assemblyContexts
          name="context not in a cc"
          component="//@repository.0/@components.0"
          allocationContext="//@system.0/@allocation/@allocationContexts.0">
        <providedRoles
            interface="//@repository.0/@interfaces.0"
            name="provide"/>
      </assemblyContexts>
      <assemblyContexts
          name="ac for cc"
          component="//@system.0/@assembly/@compositeComponents.0"
          allocationContext="//@system.0/@allocation/@allocationContexts.1">
        <requiredRoles
            interface="//@repository.0/@interfaces.1"
            name="required"/>
      </assemblyContexts>
      <compositeComponents
          name="component"
          requiredInterfaces="//@repository.0/@interfaces.1">
        <assemblyContexts
            name="context of composite component"
            component="//@repository.0/@components.0">
          <requiredRoles
              interface="//@repository.0/@interfaces.1"
              name="require"/>
        </assemblyContexts>
        <assemblyContexts
            name="other context"
            component="//@repository.0/@components.0"/>
      </compositeComponents>
      <assemblyConnectors
          providedRole="//@system.0/@assembly/@compositeComponents.0/@assemblyContexts.0/@requiredRoles.0"
          requiredRole="//@system.0/@assembly/@compositeComponents.0/@assemblyContexts.0/@requiredRoles.0"/>
    </assembly>
    <allocation>
      <allocationContexts
          container="//@system.0/@environment/@containers.0"
          assemblyContext="//@system.0/@assembly/@assemblyContexts.0"
          name="allCont1"/>
      <allocationContexts
          container="//@system.0/@environment/@containers.1"
          assemblyContext="//@system.0/@assembly/@assemblyContexts.1"
          name="allCont2"/>
    </allocation>
    <environment>
      <containers
          name="container1"/>
      <containers
          name="container2"/>
    </environment>
  </system>
</MDSDComponentMetamodel:ComponentSystem>
